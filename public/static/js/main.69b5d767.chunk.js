(this["webpackJsonptv-manage"]=this["webpackJsonptv-manage"]||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),r=n.n(s),a=n(15),i=n.n(a),l=(n(36),n(37),n(7)),j=n(20),o=n(8),b=n.p+"static/media/claas-logo.7afe38db.jpg";function d(){return Object(c.jsxs)("header",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm",children:[Object(c.jsx)("img",{className:"mr-5",src:b,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(c.jsx)("h1",{className:"my-0 mr-md-auto",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(c.jsx)("a",{className:"btn btn-outline-primary",href:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})}n(38);function u(){return Object(c.jsx)("footer",{className:"footer mt-auto",children:Object(c.jsx)("p",{className:"footer__copy-rights",children:"\xa9 \u041a\u043e\u0432\u0435\u0448\u043d\u0438\u043a\u043e\u0432 \u0412\u0438\u0442\u0430\u043b\u0438\u0439, 2020"})})}function O(e){var t=e.item,n=e.onClick,s=e.id;return Object(c.jsx)("li",{className:"nav-item mr-3 ".concat(t.checked?"active":""),children:Object(c.jsx)(j.b,{id:s,className:"nav-link",to:t.url,onClick:n,children:t.title})})}function h(){var e=Object(s.useState)([{id:1,checked:!1,title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",url:"/"},{id:2,checked:!1,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c URL",url:"/content"},{id:3,checked:!1,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043a\u0440\u0430\u043d",url:"/screen"}]),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(s.useEffect)((function(){var e=n.map((function(e){return e.url===window.location.pathname&&(e.checked=!e.checked),e}));r(e)}),[]);var a=function(e){var t=n.map((function(t){return t.checked=!1,t.id==e.target.id&&(t.checked=!t.checked),t}));r(t)};return Object(c.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(c.jsx)("div",{className:"container collapse navbar-collapse",children:Object(c.jsx)("ul",{className:"navbar-nav mr-auto",children:n.map((function(e){return Object(c.jsx)(O,{id:e.id,item:e,onClick:a},e.id)}))})})})}function x(e){return Object(c.jsx)("thead",{children:Object(c.jsx)("tr",{children:e.tableHead.map((function(e,t){return Object(c.jsx)("th",{className:"text-center",scope:"col",children:e},t)}))})})}function m(e){return Object(c.jsxs)("table",{className:"table table-hover",children:[Object(c.jsx)(x,{tableHead:e.tableHead}),e.tableBody]})}var f=n(13),v=n(21),p=n(16),C=n(17),N=n(9),g=n(22);function S(e){var t=Object(s.useState)({title:"",url:"",id:"122"}),n=Object(l.a)(t,2),r=n[0],a=n[1],i=function(e){var t=e.target,n=t.value,c=t.name;a(Object(C.a)(Object(C.a)({},r),{},Object(p.a)({},c,n)))};return Object(c.jsxs)(N.a,{onSubmit:function(t){return function(t){t.preventDefault();var n=[].concat(Object(v.a)(e.contents),[r]);e.setContents(n),e.onHide()}(t)},children:[Object(c.jsxs)(N.a.Group,{controlId:"formBasicName",children:[Object(c.jsx)(N.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(c.jsx)(N.a.Control,{value:r.title,onChange:i,name:"title",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})]}),Object(c.jsxs)(N.a.Group,{controlId:"formBasicAdress",children:[Object(c.jsx)(N.a.Label,{children:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"}),Object(c.jsx)(N.a.Control,{value:r.url,onChange:i,name:"url",type:"text",placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})]}),Object(c.jsx)(g.a,{variant:"primary",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442"})]})}function y(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(f.a,{show:e.show,onHide:e.handleClose,animation:!0,centered:!0,children:[Object(c.jsx)(f.a.Header,{closeButton:!0,children:Object(c.jsx)(f.a.Title,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442"})}),Object(c.jsx)(f.a.Body,{children:Object(c.jsx)(S,{onHide:e.handleClose,contents:e.contents,setContents:e.setContents})})]})})}function k(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text-center",children:e.index}),Object(c.jsx)("td",{className:"text-center",children:e.item.title}),Object(c.jsx)("td",{className:"text-center",children:e.item.url}),Object(c.jsx)("td",{className:"text-center",children:Object(c.jsx)("a",{className:"btn btn-danger align-item-center",href:"/",onClick:function(t){return function(t,n){t.preventDefault(),e.setContents(e.contents.filter((function(e){return e.id!==n})))}(t,e.item.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})}function w(e){return e.contents.map((function(t,n){return Object(c.jsx)(k,{index:n,item:t,contents:e.contents,setContents:e.setContents},n)}))}function B(e){var t=Object(s.useState)(["\u041d\u043e\u043c\u0435\u0440","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430","\u0410\u0434\u0440\u0435\u0441 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430","\u041a\u043d\u043e\u043f\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"]),n=Object(l.a)(t,1)[0],r=Object(s.useState)(!1),a=Object(l.a)(r,2),i=a[0],j=a[1],o=Object(c.jsx)("tbody",{children:Object(c.jsx)(w,{contents:e.contents,setContents:e.setContents})});return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between p-3",children:[Object(c.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u043e\u0432"}),Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){return j(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"})]}),Object(c.jsx)(m,{tableHead:n,tableBody:o}),Object(c.jsx)(y,{handleClose:function(){return j(!1)},show:i,contents:e.contents,setContents:e.setContents})]})}function H(e){var t=Object(s.useState)(""),n=Object(l.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(""),j=Object(l.a)(i,2),o=j[0],b=j[1];Object(s.useEffect)((function(){a(e.url)}),[e.screens]);return Object(c.jsxs)(N.a,{className:"d-flex",onSubmit:function(e){return e.preventDefault(),void console.log(r)},children:[Object(c.jsx)("select",{value:o,onChange:function(e){b(e.target.value)},className:"custom-select",name:"categotySelect",children:e.contents.map((function(e){return Object(c.jsx)("option",{value:e.url,children:e.title},e.id)}))}),Object(c.jsx)("button",{className:"btn btn-info ml-4",type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}function L(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text-center",children:e.index}),Object(c.jsx)("td",{className:"text-center",children:e.item.title}),Object(c.jsx)("td",{children:Object(c.jsx)(H,{url:e.item.url,contents:e.contents,screens:e.screens})})]})}function I(e){return Object(c.jsx)("tbody",{children:e.screens.map((function(t,n){return Object(c.jsx)(L,{item:t,index:n,screens:e.screens,contents:e.contents},t.id)}))})}function D(e){var t=Object(s.useState)(["\u041d\u043e\u043c\u0435\u0440","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u043a\u0440\u0430\u043d\u0430","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u044d\u043a\u0440\u0430\u043d"]),n=Object(l.a)(t,1)[0],r=Object(c.jsx)(I,{screens:e.screens,contents:e.contents});return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(m,{tableHead:n,tableBody:r})})}function E(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"text-center",children:e.index}),Object(c.jsx)("td",{className:"text-center",children:e.item.title}),Object(c.jsx)("td",{className:"text-center",children:Object(c.jsx)("a",{className:"btn btn-danger align-item-center",href:"/",onClick:function(t){return e.onClick(t,e.item.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})}function G(e){var t=function(t,n){t.preventDefault(),e.setScreens(e.screens.filter((function(e){return e.id!==n})))};return e.screens.map((function(e,n){return Object(c.jsx)(E,{index:n,item:e,onClick:t},n)}))}function A(e){var t=Object(s.useState)({title:"",url:"",comment:"",id:"122"}),n=Object(l.a)(t,2),r=n[0],a=n[1],i=function(e){var t=e.target,n=t.value,c=t.name;a(Object(C.a)(Object(C.a)({},r),{},Object(p.a)({},c,n)))};return Object(c.jsxs)(N.a,{onSubmit:function(t){return function(t){t.preventDefault();var n=[].concat(Object(v.a)(e.screens),[r]);e.setScreens(n),e.onHide()}(t)},children:[Object(c.jsxs)(N.a.Group,{controlId:"formBasicName",children:[Object(c.jsx)(N.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(c.jsx)(N.a.Control,{value:r.title,onChange:i,name:"title",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})]}),Object(c.jsxs)(N.a.Group,{controlId:"formBasicAdress",children:[Object(c.jsx)(N.a.Label,{children:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"}),Object(c.jsx)(N.a.Control,{value:r.url,onChange:i,name:"url",type:"text",placeholder:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})]}),Object(c.jsxs)(N.a.Group,{controlId:"formBasicComment",children:[Object(c.jsx)(N.a.Label,{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(c.jsx)(N.a.Control,{value:r.comment,onChange:i,name:"comment",as:"textarea",type:"text",rows:3})]}),Object(c.jsx)(g.a,{variant:"secondary",type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u044d\u043a\u0440\u0430\u043d"})]})}function F(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(f.a,{show:e.show,onHide:e.handleClose,animation:!0,centered:!0,children:[Object(c.jsx)(f.a.Header,{closeButton:!0,children:Object(c.jsx)(f.a.Title,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043a\u0440\u0430\u043d"})}),Object(c.jsx)(f.a.Body,{children:Object(c.jsx)(A,{screens:e.screens,setScreens:e.setScreens,onHide:e.handleClose})})]})})}function J(e){var t=Object(s.useState)(["\u041d\u043e\u043c\u0435\u0440","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u043a\u0440\u0430\u043d\u0430","\u041a\u043d\u043e\u043f\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"]),n=Object(l.a)(t,1)[0],r=Object(s.useState)(!1),a=Object(l.a)(r,2),i=a[0],j=a[1],o=Object(c.jsx)("tbody",{children:Object(c.jsx)(G,{screens:e.screens,setScreens:e.setScreens})});return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between p-3",children:[Object(c.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u044d\u043a\u0440\u0430\u043d\u043e\u0432"}),Object(c.jsx)("button",{className:"btn btn-success",onClick:function(){return j(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043a\u0440\u0430\u043d"})]}),Object(c.jsx)(m,{tableHead:n,tableBody:o}),Object(c.jsx)(F,{show:i,handleClose:function(){return j(!1)},screens:e.screens,setScreens:e.setScreens})]})}var T=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)([]),i=Object(l.a)(a,2),b=i[0],O=i[1],x=Object(s.useState)(!1),m=Object(l.a)(x,2),f=m[0],v=m[1],p=Object(s.useState)(!1),C=Object(l.a)(p,2),N=C[0],g=C[1];return Object(s.useEffect)((function(){fetch("http://localhost:8000/api/screen").then((function(e){return e.json()})).then((function(e){v(!0),r(e)}))}),[]),Object(s.useEffect)((function(){fetch("http://localhost:8000/api/content").then((function(e){return e.json()})).then((function(e){g(!0),O(e)}))}),[]),Object(c.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[Object(c.jsx)(d,{}),Object(c.jsxs)(j.a,{children:[Object(c.jsx)(h,{}),Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:"/content",children:Object(c.jsx)(B,{contents:b,setContents:O})}),Object(c.jsx)(o.a,{path:"/screen",children:Object(c.jsx)(J,{screens:n,setScreens:r})}),Object(c.jsx)(o.a,{path:"/",children:Object(c.jsx)(D,{contents:b,screens:n,isLoadedContents:N,isLoadedScreens:f})})]})]}),Object(c.jsx)(u,{})]})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(T,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.69b5d767.chunk.js.map